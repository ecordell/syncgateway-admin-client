language: python
python: 3.5
install:
- pip install tox
- pip install -r requirements.txt
script:
- tox -e $TOX_ENV
env:
- TOX_ENV=py26
- TOX_ENV=py27
- TOX_ENV=py33
- TOX_ENV=py34
- TOX_ENV=py35
- TOX_ENV=pypy
- TOX_ENV=pypy3
- TOX_ENV=docs
- TOX_ENV=flake8
- TOX_ENV=coverage
after_success: coveralls
deploy:
  provider: pypi
  user: ecordell
  password:
    secure: L8EG5cIf2ncGCcuuskeZrNVZRsyKAYistafVCUntnYlLhjlfY80oe2AF/5ydDUXr5JWzPeyDJBdaMyTz8Ks4BxMbbY7LY/iqzieQjDy/K20d1qArFSFUFcgi9eymQ+AcVIluaVkKTEahDKbuP29S69kLFa4ACI/WGJ82n1hTrA8VVpDmUQIkFgvn4YKTEjWr1LmXlxWdmESx1qNIAKQwodm5qHVW8HK76+OYgdF8exghHe/s8Y46yZdspfctP8Gw9P6+yMxq0x6YNYiAc0+rm/iIMxN/JofP9F2qrV7QCOgsKR12VEiyaYIpQ454bih2sLh3G5CdYNnkEexhogHaU10u/9zHMGwKvNDknrFJZxbUO0pO1R+3Uc3KQNpDyFz9aT+vJQj2ubYWxC2Ye5GPX3yauoxvQJHofWG5Zr7buivV2E7eGlOzyemt1cEXsyTAdZi1kg9kjyHjawW8WRCbm/XL4V35WyLdXI05MlEjCC6kX9C5oUqixtVQdH72Qjo2kgygeRoobEpOpBRJBpfiaO2islpBrGcBteTlF1hTaAAeaaV9NZOWvewmYpnZhrQoczi2irwPUOYPsORJ27asOIHrUPmBNsWyqYDePel6NA867sZPfcKyY5ZPd+JOj4201XVi6/atCtCDSR3QHlzdFqIoQtsyEjKCcr+7aw2F0U8=
  on:
    tags: true
    repo: ecordell/syncgateway-admin-client
    distributions: "sdist bdist_wheel"
    condition: $TOX_ENV = py35 # only deploy once
