language: python
python: 3.5
install:
- pip install tox
- pip install -r requirements.txt
script:
- tox -e $TOX_ENV
env:
- TOX_ENV=py26
- TOX_ENV=py27
- TOX_ENV=py33
- TOX_ENV=py34
- TOX_ENV=py35
- TOX_ENV=pypy
- TOX_ENV=pypy3
- TOX_ENV=docs
- TOX_ENV=flake8
- TOX_ENV=coverage
after_success: coveralls
deploy:
  provider: pypi
  user: ecordell
  password:
    secure: A5BUh1KWXTVih7D4vjhcXmLwVzl5pARGMlO0rHM4bq5gSVVb1ODVTb15hwzyvzaHOxlaLd9v8qW2Pb6jzZejmzYalwdi0oqkxi05B43oytCwIbZN/d2VkehuN2J3ntplQ10FgeAPUIBoK1J9rArz5OVu6h5oS2vkN/C92vLdIbYzGQ2McZU237YlhyPjc5OS1ueznoF/k/ZBbXq8WV9ENJ7JXrTZT5/Ddgxta2z3qYM+8Jgd2jivlgxzh6Uy73Npg+Jw9Gn35OsApddcTe8v28lcGYAQ2Gu3J3dQXRMH1A6eXwIch4XVvo1z7xHeUF2RockcfTiw9Ns0/Ub/Tu+34pHk5oddMJ5ZlHBhNgLO+lySDWY5YqRZqqbOzVpM6ApsAXo0zNOzHTqs/UZpji1xCrH7HwRqElKIUGOczN4c+aN8Xd4p9HOPY3nq4f2uM+/8VGQ0kyWiW0RzQDxvjC1njXWTYEghiiExiZxKdg45Hqh0KJefOTqBi2GHqELVkECFmqagKuVkh+2wQy61B2p1jLXIuqhfbkZlJeIdi3V7VJdnh0J678GNBK100T6txyh+YjBsEWnkCj5fRSMjbXlJHytc4KF0xcVeIlStjn+lkkqDpd2+vRSaybXOjbw20AJTLSiGoGWVy67CC5VBdoIeypYwgpBJbfKZPsIYeiTEpDg=
  on:
    tags: true
    repo: ecordell/syncgateway-admin-client
    distributions: "sdist bdist_wheel"
    condition: $TOX_ENV = py35 # only deploy once
